?   	github.com/martinsuchenak/rackd	[no test files]
=== RUN   TestAPI_DatacenterCRUD
=== RUN   TestAPI_DatacenterCRUD/CreateDatacenter
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Datacenter created successfully [36mid[0m=019b92c6-5bf5-7933-a6a1-95c05ef8b96b [36mname[0m=Primary DC
=== RUN   TestAPI_DatacenterCRUD/GetDatacenter
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Retrieved datacenter [36mid[0m=019b92c6-5bf5-7933-a6a1-95c05ef8b96b [36mname[0m=Primary DC
=== RUN   TestAPI_DatacenterCRUD/UpdateDatacenter
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Datacenter updated successfully [36mid[0m=019b92c6-5bf5-7933-a6a1-95c05ef8b96b [36mname[0m=Primary DC Updated
=== RUN   TestAPI_DatacenterCRUD/ListDatacenters
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Listed datacenters [36mcount[0m=2 [36mname[0m=
=== RUN   TestAPI_DatacenterCRUD/DeleteDatacenter
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Datacenter deleted successfully [36mid[0m=019b92c6-5bf5-7933-a6a1-95c05ef8b96b
--- PASS: TestAPI_DatacenterCRUD (0.07s)
    --- PASS: TestAPI_DatacenterCRUD/CreateDatacenter (0.00s)
    --- PASS: TestAPI_DatacenterCRUD/GetDatacenter (0.00s)
    --- PASS: TestAPI_DatacenterCRUD/UpdateDatacenter (0.00s)
    --- PASS: TestAPI_DatacenterCRUD/ListDatacenters (0.00s)
    --- PASS: TestAPI_DatacenterCRUD/DeleteDatacenter (0.00s)
=== RUN   TestAPI_Integration_CreateReadUpdateDelete
=== RUN   TestAPI_Integration_CreateReadUpdateDelete/CreateDevice
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Datacenter created successfully [36mid[0m=019b92c6-5c35-77fa-ab2f-b50444cc9883 [36mname[0m=Test DC
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5c37-77b8-91be-1df95425a064 [36mname[0m=Integration Test Server [36maddresses_count[0m=1
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5c37-77b8-91be-1df95425a064 [36mname[0m=Integration Test Server [36mdatacenter_id[0m=019b92c6-5c35-77fa-ab2f-b50444cc9883
=== RUN   TestAPI_Integration_CreateReadUpdateDelete/GetDevice
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Retrieved device [36mid[0m=019b92c6-5c37-77b8-91be-1df95425a064 [36mname[0m=Integration Test Server
=== RUN   TestAPI_Integration_CreateReadUpdateDelete/UpdateDevice
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device updated successfully [36mid[0m=019b92c6-5c37-77b8-91be-1df95425a064 [36mname[0m=Updated Server Name
=== RUN   TestAPI_Integration_CreateReadUpdateDelete/DeleteDevice
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device deleted from storage [36mid[0m=019b92c6-5c37-77b8-91be-1df95425a064
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device deleted successfully [36mid[0m=019b92c6-5c37-77b8-91be-1df95425a064
=== RUN   TestAPI_Integration_CreateReadUpdateDelete/VerifyDeleted
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m Device not found [36mid[0m=019b92c6-5c37-77b8-91be-1df95425a064
--- PASS: TestAPI_Integration_CreateReadUpdateDelete (0.07s)
    --- PASS: TestAPI_Integration_CreateReadUpdateDelete/CreateDevice (0.00s)
    --- PASS: TestAPI_Integration_CreateReadUpdateDelete/GetDevice (0.00s)
    --- PASS: TestAPI_Integration_CreateReadUpdateDelete/UpdateDevice (0.00s)
    --- PASS: TestAPI_Integration_CreateReadUpdateDelete/DeleteDevice (0.00s)
    --- PASS: TestAPI_Integration_CreateReadUpdateDelete/VerifyDeleted (0.00s)
=== RUN   TestAPI_ListDevices
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5c79-72a3-bb99-81ad2509bcc3 [36mname[0m=Server 1 [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5c79-72a3-bb99-81ad2509bcc3 [36mname[0m=Server 1 [36mdatacenter_id[0m=default
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5c7b-738e-82e2-d80cf7edb992 [36mname[0m=Server 2 [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5c7b-738e-82e2-d80cf7edb992 [36mname[0m=Server 2 [36mdatacenter_id[0m=default
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5c7d-73ff-8ff9-26dfb6169f74 [36mname[0m=Workstation 1 [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5c7d-73ff-8ff9-26dfb6169f74 [36mname[0m=Workstation 1 [36mdatacenter_id[0m=default
=== RUN   TestAPI_ListDevices/ListAll
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Listed devices from storage [36mcount[0m=3
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Listed devices [36mcount[0m=3 [36mtags[0m=[]
=== RUN   TestAPI_ListDevices/FilterByTag
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Listed devices from storage [36mcount[0m=2
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Listed devices [36mcount[0m=2 [36mtags[0m=[server]
--- PASS: TestAPI_ListDevices (0.07s)
    --- PASS: TestAPI_ListDevices/ListAll (0.00s)
    --- PASS: TestAPI_ListDevices/FilterByTag (0.00s)
=== RUN   TestAPI_SearchDevices
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5cd2-7a48-9593-268d133c6c79 [36mname[0m=Web Server [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5cd2-7a48-9593-268d133c6c79 [36mname[0m=Web Server [36mdatacenter_id[0m=default
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5cd4-7ef4-a1a6-4b626d2840be [36mname[0m=Database Server [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5cd4-7ef4-a1a6-4b626d2840be [36mname[0m=Database Server [36mdatacenter_id[0m=default
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5cd6-77a5-aee1-590af8273aed [36mname[0m=Mail Server [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5cd6-77a5-aee1-590af8273aed [36mname[0m=Mail Server [36mdatacenter_id[0m=default
=== RUN   TestAPI_SearchDevices/Search_by_name
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Search devices completed [36mquery[0m=server [36mresults[0m=3
=== RUN   TestAPI_SearchDevices/Search_by_description
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Search devices completed [36mquery[0m=postgresql [36mresults[0m=1
=== RUN   TestAPI_SearchDevices/Search_no_results
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Search devices completed [36mquery[0m=nonexistent [36mresults[0m=0
--- PASS: TestAPI_SearchDevices (0.11s)
    --- PASS: TestAPI_SearchDevices/Search_by_name (0.01s)
    --- PASS: TestAPI_SearchDevices/Search_by_description (0.01s)
    --- PASS: TestAPI_SearchDevices/Search_no_results (0.01s)
=== RUN   TestAPI_ErrorHandling
=== RUN   TestAPI_ErrorHandling/CreateMissingName
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m Device creation missing required name
=== RUN   TestAPI_ErrorHandling/CreateInvalidJSON
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m Invalid device creation request body [36merror[0m=invalid character 'i' looking for beginning of value
=== RUN   TestAPI_ErrorHandling/GetNotFound
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m Device not found [36mid[0m=nonexistent-id
=== RUN   TestAPI_ErrorHandling/UpdateNotFound
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m Device update failed - not found [36mid[0m=nonexistent-id
=== RUN   TestAPI_ErrorHandling/DeleteNotFound
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m Device not found for deletion [36mid[0m=nonexistent-id
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m Device deletion failed - not found [36mid[0m=nonexistent-id
=== RUN   TestAPI_ErrorHandling/SearchMissingQuery
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m Search devices request missing query
--- PASS: TestAPI_ErrorHandling (0.06s)
    --- PASS: TestAPI_ErrorHandling/CreateMissingName (0.00s)
    --- PASS: TestAPI_ErrorHandling/CreateInvalidJSON (0.00s)
    --- PASS: TestAPI_ErrorHandling/GetNotFound (0.00s)
    --- PASS: TestAPI_ErrorHandling/UpdateNotFound (0.00s)
    --- PASS: TestAPI_ErrorHandling/DeleteNotFound (0.00s)
    --- PASS: TestAPI_ErrorHandling/SearchMissingQuery (0.00s)
=== RUN   TestAPI_ConcurrentRequests
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5d63-7ce0-9a2f-b5c146e82b2d [36mname[0m=Concurrent Device 6 [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5d63-7ce0-9a2f-b5c146e82b2d [36mname[0m=Concurrent Device 6 [36mdatacenter_id[0m=default
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5d64-710d-bd10-ba6c7e893c0a [36mname[0m=Concurrent Device 3 [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5d64-710d-bd10-ba6c7e893c0a [36mname[0m=Concurrent Device 3 [36mdatacenter_id[0m=default
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5d63-7e6f-8571-8dcedbd2391f [36mname[0m=Concurrent Device 7 [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5d63-7e6f-8571-8dcedbd2391f [36mname[0m=Concurrent Device 7 [36mdatacenter_id[0m=default
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5d63-7f2a-a3b7-0bec3c9f3484 [36mname[0m=Concurrent Device 5 [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5d63-7f2a-a3b7-0bec3c9f3484 [36mname[0m=Concurrent Device 5 [36mdatacenter_id[0m=default
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5d63-7e86-9428-bc0f5ecd74d8 [36mname[0m=Concurrent Device 0 [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5d63-7e86-9428-bc0f5ecd74d8 [36mname[0m=Concurrent Device 0 [36mdatacenter_id[0m=default
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5d63-7d04-9fb4-70428658137c [36mname[0m=Concurrent Device 4 [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5d63-7d04-9fb4-70428658137c [36mname[0m=Concurrent Device 4 [36mdatacenter_id[0m=default
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5d63-7e57-8082-0d1a78e55936 [36mname[0m=Concurrent Device 2 [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5d63-7e57-8082-0d1a78e55936 [36mname[0m=Concurrent Device 2 [36mdatacenter_id[0m=default
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5d63-7d98-b4cc-8a3bbb32b8ef [36mname[0m=Concurrent Device 1 [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5d63-7d98-b4cc-8a3bbb32b8ef [36mname[0m=Concurrent Device 1 [36mdatacenter_id[0m=default
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5d63-7dc7-8663-a517f82efacc [36mname[0m=Concurrent Device 9 [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5d63-7dc7-8663-a517f82efacc [36mname[0m=Concurrent Device 9 [36mdatacenter_id[0m=default
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5d63-7ee8-a5c3-5fc5eba888ad [36mname[0m=Concurrent Device 8 [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5d63-7ee8-a5c3-5fc5eba888ad [36mname[0m=Concurrent Device 8 [36mdatacenter_id[0m=default
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Listed devices from storage [36mcount[0m=10
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Listed devices [36mcount[0m=10 [36mtags[0m=[]
--- PASS: TestAPI_ConcurrentRequests (0.07s)
=== RUN   TestAPI_LargePayload
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5dad-767c-b4ce-10979a553bde [36mname[0m=Large Payload Device [36maddresses_count[0m=100
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5dad-767c-b4ce-10979a553bde [36mname[0m=Large Payload Device [36mdatacenter_id[0m=default
--- PASS: TestAPI_LargePayload (0.09s)
=== RUN   TestAPI_NetworkCRUD
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Datacenter created successfully [36mid[0m=019b92c6-5e0b-7177-a84d-727068108976 [36mname[0m=Network DC
=== RUN   TestAPI_NetworkCRUD/CreateNetwork
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Network created successfully [36mid[0m=019b92c6-5e0c-73b1-a0d1-df02ad9a419d [36mname[0m=LAN [36msubnet[0m=192.168.1.0/24
=== RUN   TestAPI_NetworkCRUD/GetNetwork
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Retrieved network [36mid[0m=019b92c6-5e0c-73b1-a0d1-df02ad9a419d [36mname[0m=LAN
=== RUN   TestAPI_NetworkCRUD/UpdateNetwork
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Network updated successfully [36mid[0m=019b92c6-5e0c-73b1-a0d1-df02ad9a419d [36mname[0m=LAN Updated
=== RUN   TestAPI_NetworkCRUD/ListNetworks
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Listed networks [36mcount[0m=1 [36mname[0m= [36mdatacenter_id[0m=
=== RUN   TestAPI_NetworkCRUD/DeleteNetwork
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Network deleted successfully [36mid[0m=019b92c6-5e0c-73b1-a0d1-df02ad9a419d
--- PASS: TestAPI_NetworkCRUD (0.07s)
    --- PASS: TestAPI_NetworkCRUD/CreateNetwork (0.00s)
    --- PASS: TestAPI_NetworkCRUD/GetNetwork (0.00s)
    --- PASS: TestAPI_NetworkCRUD/UpdateNetwork (0.00s)
    --- PASS: TestAPI_NetworkCRUD/ListNetworks (0.00s)
    --- PASS: TestAPI_NetworkCRUD/DeleteNetwork (0.00s)
=== RUN   TestAPI_NetworkPools
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Datacenter created successfully [36mid[0m=019b92c6-5e4a-719a-90c1-cadde82a8f92 [36mname[0m=Pool DC
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Network created successfully [36mid[0m=019b92c6-5e4b-7309-9496-faeed391d6d9 [36mname[0m=Pool Network [36msubnet[0m=10.0.0.0/24
=== RUN   TestAPI_NetworkPools/CreatePool
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Network pool created successfully [36mid[0m=019b92c6-5e4c-72ca-b907-a6b2c559ddd2 [36mname[0m=Test Pool [36mnetwork_id[0m=019b92c6-5e4b-7309-9496-faeed391d6d9
=== RUN   TestAPI_NetworkPools/GetNextIP
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Retrieved next available IP [36mpool_id[0m=019b92c6-5e4c-72ca-b907-a6b2c559ddd2 [36mip[0m=10.0.0.100
=== RUN   TestAPI_NetworkPools/ListPools
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Listed network pools [36mnetwork_id[0m=019b92c6-5e4b-7309-9496-faeed391d6d9 [36mcount[0m=1
=== RUN   TestAPI_NetworkPools/DeletePool
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Network pool deleted successfully [36mid[0m=019b92c6-5e4c-72ca-b907-a6b2c559ddd2
--- PASS: TestAPI_NetworkPools (0.06s)
    --- PASS: TestAPI_NetworkPools/CreatePool (0.00s)
    --- PASS: TestAPI_NetworkPools/GetNextIP (0.00s)
    --- PASS: TestAPI_NetworkPools/ListPools (0.00s)
    --- PASS: TestAPI_NetworkPools/DeletePool (0.00s)
=== RUN   TestAPI_DeviceRelationships
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5e88-7340-977c-e21189c2bd3f [36mname[0m=Parent Device [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5e88-7340-977c-e21189c2bd3f [36mname[0m=Parent Device [36mdatacenter_id[0m=default
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created in storage [36mid[0m=019b92c6-5e89-79f6-a4d9-c79332c693ff [36mname[0m=Child Device [36maddresses_count[0m=0
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-5e89-79f6-a4d9-c79332c693ff [36mname[0m=Child Device [36mdatacenter_id[0m=default
=== RUN   TestAPI_DeviceRelationships/AddRelationship
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Relationship added successfully [36mparent_id[0m=019b92c6-5e88-7340-977c-e21189c2bd3f [36mchild_id[0m=019b92c6-5e89-79f6-a4d9-c79332c693ff [36mtype[0m=contains
=== RUN   TestAPI_DeviceRelationships/GetRelated
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Retrieved related devices [36mdevice_id[0m=019b92c6-5e88-7340-977c-e21189c2bd3f [36mtype[0m= [36mcount[0m=1
=== RUN   TestAPI_DeviceRelationships/RemoveRelationship
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Relationship removed successfully [36mparent_id[0m=019b92c6-5e88-7340-977c-e21189c2bd3f [36mchild_id[0m=019b92c6-5e89-79f6-a4d9-c79332c693ff [36mtype[0m=contains
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Retrieved related devices [36mdevice_id[0m=019b92c6-5e88-7340-977c-e21189c2bd3f [36mtype[0m= [36mcount[0m=0
--- PASS: TestAPI_DeviceRelationships (0.07s)
    --- PASS: TestAPI_DeviceRelationships/AddRelationship (0.00s)
    --- PASS: TestAPI_DeviceRelationships/GetRelated (0.00s)
    --- PASS: TestAPI_DeviceRelationships/RemoveRelationship (0.00s)
PASS
ok  	github.com/martinsuchenak/rackd/api	(cached)
?   	github.com/martinsuchenak/rackd/cmd/datacenter	[no test files]
?   	github.com/martinsuchenak/rackd/cmd/device	[no test files]
?   	github.com/martinsuchenak/rackd/cmd/network	[no test files]
?   	github.com/martinsuchenak/rackd/cmd/server	[no test files]
=== RUN   TestHandler_DatacenterCRUD
=== RUN   TestHandler_DatacenterCRUD/CreateDatacenter
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Datacenter created successfully [36mid[0m=019b92c6-ebf8-7f1b-b4bb-3b959e7baabb [36mname[0m=Test DC
=== RUN   TestHandler_DatacenterCRUD/GetDatacenter
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Retrieved datacenter [36mid[0m=019b92c6-ebf8-7f1b-b4bb-3b959e7baabb [36mname[0m=Test DC
=== RUN   TestHandler_DatacenterCRUD/UpdateDatacenter
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Datacenter updated successfully [36mid[0m=019b92c6-ebf8-7f1b-b4bb-3b959e7baabb [36mname[0m=Updated DC
=== RUN   TestHandler_DatacenterCRUD/ListDatacenters
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Listed datacenters [36mcount[0m=1 [36mname[0m=
=== RUN   TestHandler_DatacenterCRUD/DeleteDatacenter
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Datacenter deleted successfully [36mid[0m=019b92c6-ebf8-7f1b-b4bb-3b959e7baabb
--- PASS: TestHandler_DatacenterCRUD (0.00s)
    --- PASS: TestHandler_DatacenterCRUD/CreateDatacenter (0.00s)
    --- PASS: TestHandler_DatacenterCRUD/GetDatacenter (0.00s)
    --- PASS: TestHandler_DatacenterCRUD/UpdateDatacenter (0.00s)
    --- PASS: TestHandler_DatacenterCRUD/ListDatacenters (0.00s)
    --- PASS: TestHandler_DatacenterCRUD/DeleteDatacenter (0.00s)
=== RUN   TestHandler_GetDatacenterDevices
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Retrieved datacenter devices [36mdatacenter_id[0m=dc-1 [36mcount[0m=1
--- PASS: TestHandler_GetDatacenterDevices (0.00s)
=== RUN   TestHandler_ListDevices
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Listed devices [36mcount[0m=0 [36mtags[0m=[]
--- PASS: TestHandler_ListDevices (0.00s)
=== RUN   TestHandler_CreateDevice
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Datacenter created successfully [36mid[0m=019b92c6-ebfa-7d52-a207-8652a6336221 [36mname[0m=Test DC
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-ebfb-715b-b4be-d09e02a0bf48 [36mname[0m=Test Server [36mdatacenter_id[0m=019b92c6-ebfa-7d52-a207-8652a6336221
--- PASS: TestHandler_CreateDevice (0.00s)
=== RUN   TestHandler_CreateDevice_MissingName
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m Device creation missing required name
--- PASS: TestHandler_CreateDevice_MissingName (0.00s)
=== RUN   TestHandler_CreateDevice_InvalidJSON
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m Invalid device creation request body [36merror[0m=invalid character 'i' looking for beginning of value
--- PASS: TestHandler_CreateDevice_InvalidJSON (0.00s)
=== RUN   TestHandler_GetDevice
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Retrieved device [36mid[0m=get-test-1 [36mname[0m=Get Test Device
--- PASS: TestHandler_GetDevice (0.00s)
=== RUN   TestHandler_GetDevice_NotFound
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m Device not found [36mid[0m=nonexistent
--- PASS: TestHandler_GetDevice_NotFound (0.00s)
=== RUN   TestHandler_UpdateDevice
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device updated successfully [36mid[0m=update-test-1 [36mname[0m=Updated Name
--- PASS: TestHandler_UpdateDevice (0.00s)
=== RUN   TestHandler_DeleteDevice
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device deleted successfully [36mid[0m=delete-test-1
--- PASS: TestHandler_DeleteDevice (0.00s)
=== RUN   TestHandler_DeleteDevice_NotFound
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m Device deletion failed - not found [36mid[0m=nonexistent
--- PASS: TestHandler_DeleteDevice_NotFound (0.00s)
=== RUN   TestHandler_SearchDevices
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Search devices completed [36mquery[0m=server [36mresults[0m=2
--- PASS: TestHandler_SearchDevices (0.00s)
=== RUN   TestHandler_SearchDevices_MissingQuery
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m Search devices request missing query
--- PASS: TestHandler_SearchDevices_MissingQuery (0.00s)
=== RUN   TestHandler_Integration_CreateGetUpdateDelete
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device created successfully [36mid[0m=019b92c6-ebfc-7c67-b836-4bb666cffe97 [36mname[0m=Integration Test Device [36mdatacenter_id[0m=
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Retrieved device [36mid[0m=019b92c6-ebfc-7c67-b836-4bb666cffe97 [36mname[0m=Integration Test Device
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device updated successfully [36mid[0m=019b92c6-ebfc-7c67-b836-4bb666cffe97 [36mname[0m=Updated Integration Device
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Device deleted successfully [36mid[0m=019b92c6-ebfc-7c67-b836-4bb666cffe97
--- PASS: TestHandler_Integration_CreateGetUpdateDelete (0.00s)
=== RUN   TestHandler_NetworkCRUD
=== RUN   TestHandler_NetworkCRUD/CreateNetwork
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Network created successfully [36mid[0m=019b92c6-ebfd-74f5-8689-11fa8d8798af [36mname[0m=LAN [36msubnet[0m=192.168.1.0/24
=== RUN   TestHandler_NetworkCRUD/GetNetwork
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Retrieved network [36mid[0m=019b92c6-ebfd-74f5-8689-11fa8d8798af [36mname[0m=LAN
=== RUN   TestHandler_NetworkCRUD/UpdateNetwork
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Network updated successfully [36mid[0m=019b92c6-ebfd-74f5-8689-11fa8d8798af [36mname[0m=Updated LAN
=== RUN   TestHandler_NetworkCRUD/ListNetworks
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Listed networks [36mcount[0m=1 [36mname[0m= [36mdatacenter_id[0m=
=== RUN   TestHandler_NetworkCRUD/DeleteNetwork
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Network deleted successfully [36mid[0m=019b92c6-ebfd-74f5-8689-11fa8d8798af
--- PASS: TestHandler_NetworkCRUD (0.00s)
    --- PASS: TestHandler_NetworkCRUD/CreateNetwork (0.00s)
    --- PASS: TestHandler_NetworkCRUD/GetNetwork (0.00s)
    --- PASS: TestHandler_NetworkCRUD/UpdateNetwork (0.00s)
    --- PASS: TestHandler_NetworkCRUD/ListNetworks (0.00s)
    --- PASS: TestHandler_NetworkCRUD/DeleteNetwork (0.00s)
=== RUN   TestHandler_GetNetworkDevices
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Retrieved network devices [36mnetwork_id[0m=net-1 [36mcount[0m=0
--- PASS: TestHandler_GetNetworkDevices (0.00s)
=== RUN   TestHandler_NetworkPoolCRUD
=== RUN   TestHandler_NetworkPoolCRUD/CreatePool
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Network pool created successfully [36mid[0m=019b92c6-ebfe-744d-9c29-02690ca56b30 [36mname[0m=Test Pool [36mnetwork_id[0m=net-1
=== RUN   TestHandler_NetworkPoolCRUD/GetPool
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Retrieved network pool [36mid[0m=019b92c6-ebfe-744d-9c29-02690ca56b30 [36mname[0m=Test Pool
=== RUN   TestHandler_NetworkPoolCRUD/UpdatePool
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Network pool updated successfully [36mid[0m=019b92c6-ebfe-744d-9c29-02690ca56b30 [36mname[0m=Test Pool
=== RUN   TestHandler_NetworkPoolCRUD/ListPools
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Listed network pools [36mnetwork_id[0m=net-1 [36mcount[0m=1
=== RUN   TestHandler_NetworkPoolCRUD/GetNextIP
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Retrieved next available IP [36mpool_id[0m=019b92c6-ebfe-744d-9c29-02690ca56b30 [36mip[0m=10.0.0.100
=== RUN   TestHandler_NetworkPoolCRUD/DeletePool
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Network pool deleted successfully [36mid[0m=019b92c6-ebfe-744d-9c29-02690ca56b30
--- PASS: TestHandler_NetworkPoolCRUD (0.00s)
    --- PASS: TestHandler_NetworkPoolCRUD/CreatePool (0.00s)
    --- PASS: TestHandler_NetworkPoolCRUD/GetPool (0.00s)
    --- PASS: TestHandler_NetworkPoolCRUD/UpdatePool (0.00s)
    --- PASS: TestHandler_NetworkPoolCRUD/ListPools (0.00s)
    --- PASS: TestHandler_NetworkPoolCRUD/GetNextIP (0.00s)
    --- PASS: TestHandler_NetworkPoolCRUD/DeletePool (0.00s)
=== RUN   TestHandler_Relationships
=== RUN   TestHandler_Relationships/AddRelationship
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Relationship added successfully [36mparent_id[0m=d1 [36mchild_id[0m=d2 [36mtype[0m=contains
=== RUN   TestHandler_Relationships/GetRelationships
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Retrieved device relationships [36mdevice_id[0m=d1 [36mcount[0m=1
=== RUN   TestHandler_Relationships/GetRelatedDevices
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Retrieved related devices [36mdevice_id[0m=d1 [36mtype[0m= [36mcount[0m=1
=== RUN   TestHandler_Relationships/RemoveRelationship
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Relationship removed successfully [36mparent_id[0m=d1 [36mchild_id[0m=d2 [36mtype[0m=contains
--- PASS: TestHandler_Relationships (0.00s)
    --- PASS: TestHandler_Relationships/AddRelationship (0.00s)
    --- PASS: TestHandler_Relationships/GetRelationships (0.00s)
    --- PASS: TestHandler_Relationships/GetRelatedDevices (0.00s)
    --- PASS: TestHandler_Relationships/RemoveRelationship (0.00s)
=== RUN   TestHandler_RegisterRoutes
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Listed devices [36mcount[0m=0 [36mtags[0m=[]
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Search devices completed [36mquery[0m=test [36mresults[0m=0
--- PASS: TestHandler_RegisterRoutes (0.00s)
=== RUN   TestHandler_Validation_InvalidIP
--- PASS: TestHandler_Validation_InvalidIP (0.00s)
=== RUN   TestHandler_Validation_InvalidSubnet
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m Network creation invalid subnet CIDR [36msubnet[0m=192.168.1.1/99 [36merror[0m=invalid CIDR address: 192.168.1.1/99
--- PASS: TestHandler_Validation_InvalidSubnet (0.00s)
=== RUN   TestMiddleware_SecurityHeaders
--- PASS: TestMiddleware_SecurityHeaders (0.00s)
=== RUN   TestMiddleware_Auth
=== RUN   TestMiddleware_Auth/No_Auth_-_Non-API_Path
=== RUN   TestMiddleware_Auth/No_Auth_-_API_Path
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m API request missing Authorization header [36mpath[0m=/api/devices [36mmethod[0m=GET [36mremote_addr[0m=192.0.2.1:1234
=== RUN   TestMiddleware_Auth/Valid_Auth_-_API_Path
=== RUN   TestMiddleware_Auth/Invalid_Auth_-_API_Path
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m API request with invalid token [36mpath[0m=/api/devices [36mmethod[0m=GET [36mremote_addr[0m=192.0.2.1:1234
=== RUN   TestMiddleware_Auth/Query_Auth_-_Disabled
[90m06 Jan 26 18:07 AWST[0m [33mWRN[0m API request missing Authorization header [36mpath[0m=/api/devices [36mmethod[0m=GET [36mremote_addr[0m=192.0.2.1:1234
--- PASS: TestMiddleware_Auth (0.00s)
    --- PASS: TestMiddleware_Auth/No_Auth_-_Non-API_Path (0.00s)
    --- PASS: TestMiddleware_Auth/No_Auth_-_API_Path (0.00s)
    --- PASS: TestMiddleware_Auth/Valid_Auth_-_API_Path (0.00s)
    --- PASS: TestMiddleware_Auth/Invalid_Auth_-_API_Path (0.00s)
    --- PASS: TestMiddleware_Auth/Query_Auth_-_Disabled (0.00s)
PASS
ok  	github.com/martinsuchenak/rackd/internal/api	1.695s
?   	github.com/martinsuchenak/rackd/internal/config	[no test files]
?   	github.com/martinsuchenak/rackd/internal/log	[no test files]
?   	github.com/martinsuchenak/rackd/internal/mcp	[no test files]
?   	github.com/martinsuchenak/rackd/internal/model	[no test files]
=== RUN   TestMigrateToV6
[90m06 Jan 26 18:07 AWST[0m [32mINF[0m Listed devices from storage [36mcount[0m=1
--- PASS: TestMigrateToV6 (0.05s)
PASS
ok  	github.com/martinsuchenak/rackd/internal/storage	2.197s
?   	github.com/martinsuchenak/rackd/internal/ui	[no test files]
